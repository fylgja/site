<div id="rangeCompare" class="compare stack" style="--range-value: 50">
	<img
		src="https://picsum.photos/id/500/1280/500"
		width="1280"
		height="500"
		alt=""
		class="before"
	/>
	<img
		src="https://picsum.photos/id/600/1280/500"
		width="1280"
		height="500"
		alt=""
		class="after"
	/>
	<input
		type="range"
		id="range"
		class="w-full"
		oninput="rangeCompare.style.setProperty('--range-value', this.value)"
	/>
</div>

<style>
	.compare {
		inline-size: fit-content;
		--_val: calc(var(--range-value) * 100% / 100);

		@supports (timeline-scope: --foo) {
			animation: --range-observer linear reverse both;
			animation-timeline: --range-thumb;
			timeline-scope: --range-thumb;
		}

		.before {
			mask: linear-gradient(90deg, #000 0, var(--_val), #0000 0);
		}

		.after {
			mask: linear-gradient(90deg, #0000 0, var(--_val), #000 0);
		}

		input {
			--track-color: transparent;
			--track-fill: var(--track-color);
			--track-size: 100%;
			--thumb-size-y: 100%;
			--thumb-size-x: 6px;
			--thumb-stroke-size: 0 2px;
			--thumb-color: var(--root-fg);
			--track-radius: 0px;
			--thumb-radius: 0px;
			z-index: 1;
			min-block-size: unset;

			@supports (timeline-scope: --foo) {
				timeline-scope: unset;
			}
		}
	}
</style>
